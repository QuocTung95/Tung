<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>media</title>
    <style>
        .highlight{background-color: yellow;}
        .green{background-color: turquoise;}
    </style>
</head>
<body>
        <div>
            <h3>Default options editor:</h3>
            <pre>
                    {
                        width: '100%',
                        height: '',
                        load: function (instance) {},
                        namespace: "",
                        showStatistic: true,
                        toolbar: [],
                        paragraphFunctions: [],
                        widgets: [],
                        toolbarExternal: '',
                        emptyHtml: '',
                        type: 'textarea',
                        externalCss: '',
                        layoutType: "",
                        <span class="highlight">browserImageDialog: null,</span> 
                        <span class="highlight">browserVideoDialog: null,</span>
                        <span class="highlight">editPhotoEffect : null,</span>
                        <span class="highlight">editPhotoWatermark: null</span>
                    }
            </pre>

            <h3>Example init editorId</h3>
            <pre>
                    $("#test").vceditor({
                        namespace:"quick-news",
                        width:'100%',
                        height: (window.innerHeight - 70),
                        maxImageWidth: 640,
                        load: function (instance) {
                            console.log(instance);
                        },
                        
                        <span class="highlight">browserVideoDialog:</span> function(options, _callback){
                            var _callFn = function(){
                                IMSVideoManager.init({
                                    nameSpace: imsConfig.videoApiNameSpace,
                                    userName: imsConfig.currentUser,
                                    getTokenFunction: imsConfig.getVideoToken,
                                    lang: imsConfig.lang,
                                    params: {
                                        defaultSource: (imsConfig.nameSpace === 'AutoPro' ? 'Trí Thức Trẻ' : ''),
                                        maxSelected: (typeof options.maxSelected != "undefined" ? options.maxSelected : 0),
                                        callback: function (video) {
                                            _callback(video);
                                        }
                                    }
                                });
                            }
                            if (typeof IMSPhotoManager !== 'undefined') {
                                _callFn();
                            } else {
                                Helper.loadJs(imsConfig.widgetBasePath + "/video-manager.js", _callFn);
                            }
        
                        },
                        <span class="highlight">browserImageDialog :</span> function (options, _callback) {
                            var _callFn = function(){
                                IMSPhotoManager.init({
                                    nameSpace: imsConfig.photoApiNameSpace,
                                    userName: imsConfig.currentUser,
                                    getTokenFunction: imsConfig.getPhotoToken,
                                    params: {
                                        maxSelected: (typeof options.maxSelected != "undefined" ? options.maxSelected : 0),
                                        customPhotos: (typeof options.customPhotos != "undefined" ? options.customPhotos : []),
                                        maxImageWidthForUse: 10000,
                                        callback: function (arrImage) {
                                            _callback(arrImage);
                                        }
                                    }
                                });
                            }
                            if (typeof IMSPhotoManager !== 'undefined') {
                                _callFn();
                            } else {
                                Helper.loadJs(imsConfig.widgetBasePath + "/photo-manager.js", _callFn);
                            }
                        },
                        <span class="highlight">editPhotoWatermark:</span> function(options, callback){

                            <span class="green">// *** options = {photos:[Mảng các đường link ảnh cần đóng watermark], logos: các logos}</span>

                            var _callFn = function(){
                                IMSPhotoEditor.initWatermark({
                                    nameSpace: imsConfig.photoApiNameSpace,
                                    userName: imsConfig.currentUser,
                                    getTokenFunction: imsConfig.getPhotoToken,
                                    photos: options.photos,
                                    logos: options.logos,
                                    callback: function (arrPhoto) {
                                        if(typeof callback == "function"){
                                            callback(arrPhoto);
                                        }
                                    }
                                })
                            }
                            if (typeof IMSPhotoEditor !== 'undefined') {
                                _callFn();
                            } else {
                                Helper.loadJs(imsConfig.widgetBasePath + "/photo-manager.js", _callFn);
                            }
        
                        },
                        <span class="highlight">editPhotoEffect:</span> function(options, callback){

                            <span class="green">// *** options = {imgObj: ảnh cần chỉnh watermark, logos: logos của effect}</span>
                            var _callFn = function(){
                                IMSPhotoEditor.init({
                                    nameSpace: VCEDITOR.Config.photoApiNameSpace,
                                    userName: VCEDITOR.Config.currentUser,
                                    getTokenFunction: VCEDITOR.Config.getPhotoToken,
                                    sourceUrl: options.sourceUrl,
                                    imgObj: options.imgObj,
                                    logos: options.logos,
                                    callback: function (photo) {
                                        if(typeof callback == "function"){
                                            callback(photo);
                                        }
                                    }
                                })
                            }
                            if (typeof IMSPhotoEditor !== 'undefined') {
                                _callFn();
                            } else {
                                Helper.loadJs(imsConfig.widgetBasePath + "/photo-manager.js", _callFn);
                            }
        
                        },

                        <p class="highlight">                            
                            +++ call back của edit watermark trả về arr photo +++
                            arrphoto gồm các field: - originalSrc
                                                    - src 
                                                    - width
                                                    - height 
                                                    - canvas : null
                            +++ call back của edit effect trả về photo src +++</p>


                    })
            </pre>
                </div>
            </div>
</body>
</html>